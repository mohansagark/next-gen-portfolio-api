# üöÄ Deployment Checklist

## ‚úÖ Pre-Deployment Checklist

- [ ] GitHub repository created
- [ ] All code pushed to GitHub
- [ ] Railway account created
- [ ] Production JWT secrets generated
- [ ] Frontend domain ready (for CORS)

## üìã Step-by-Step Deployment

### 1. GitHub Setup
- [ ] Create repo: `next-gen-portfolio-api`  
- [ ] Add remote: `git remote add origin https://github.com/YOUR_USERNAME/next-gen-portfolio-api.git`
- [ ] Push code: `git push -u origin main`

### 2. Railway Project Setup
- [ ] Login to [railway.app](https://railway.app)
- [ ] Create new project from GitHub repo
- [ ] Wait for initial build

### 3. Database Setup
- [ ] Add PostgreSQL service to Railway project
- [ ] Verify `DATABASE_URL` is auto-generated

### 4. Environment Variables
Copy these to Railway **Variables** tab:

```bash
# From .env.production file:
JWT_SECRET=e38a9f7f36ab6eb3569fd986613ef52e0952d046a0b056249d37b4677918db0f
JWT_REFRESH_SECRET=684e071b3a406b6b87c91c771a3b2fdd8994e216961cf739ce24b14fc4222e3d
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
NODE_ENV=production
PORT=3000
ALLOWED_ORIGIN=https://yourportfolio.com
API_VERSION=v1
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50
```

### 5. Deploy & Test
- [ ] Trigger deployment (push to GitHub or manual deploy)
- [ ] Wait for build completion
- [ ] Test health endpoint: `https://your-app.railway.app/health`
- [ ] Test API docs: `https://your-app.railway.app/api-docs`
- [ ] Test user registration
- [ ] Test protected endpoints

## üîë Production Configuration Keys

### Required for Basic Operation:
1. **DATABASE_URL** - Auto-generated by Railway PostgreSQL
2. **JWT_SECRET** - For access token signing (provided above)
3. **JWT_REFRESH_SECRET** - For refresh token signing (provided above)
4. **NODE_ENV=production** - Enables production mode

### Required for Security:
5. **ALLOWED_ORIGIN** - Your frontend domain for CORS
6. **JWT_EXPIRES_IN** - Token expiration (1h recommended)
7. **JWT_REFRESH_EXPIRES_IN** - Refresh token expiration (7d recommended)

### Optional (with good defaults):
8. **PORT** - Server port (3000)
9. **API_VERSION** - API version (v1)
10. **RATE_LIMIT_WINDOW_MS** - Rate limiting window
11. **RATE_LIMIT_MAX_REQUESTS** - Max requests per window

## üö® Security Reminders

- **Never commit .env files** ‚úÖ (Already in .gitignore)
- **Use the generated JWT secrets** ‚úÖ (Provided above)
- **Update ALLOWED_ORIGIN** ‚ö†Ô∏è (Replace with your domain)
- **Use strong admin passwords** ‚ö†Ô∏è (When registering)

## üéØ Success Criteria

Your API is successfully deployed when:

- ‚úÖ `/health` returns 200 OK
- ‚úÖ `/api-docs` shows Swagger documentation  
- ‚úÖ `/api/v1` shows all endpoints
- ‚úÖ User registration works
- ‚úÖ Authentication protects write operations
- ‚úÖ Public read operations work without auth

## üõ†Ô∏è Troubleshooting

If deployment fails:

1. **Check Railway build logs** for errors
2. **Verify all environment variables** are set
3. **Ensure DATABASE_URL** is present
4. **Check Node.js version** (should be 18+)
5. **Verify package.json scripts** are correct

---

**You're ready to deploy! üöÄ**

Files created for deployment:
- `GITHUB_SETUP.md` - GitHub setup instructions
- `RAILWAY_DEPLOYMENT.md` - Detailed Railway guide  
- `.env.production` - Production environment template
- This checklist for step-by-step deployment
